\nn{Závěr}

V rámci diplomové práce byly analyzovány kompilační režimy JIT a nativní AOT na platformě .NET. První část představuje rešerše, ve které byly popsány základní principy fungování platformy .NET, jejich kompilačních režimů a cílů kompilace. Následně byla popsána architektura microservice, která slouží jako primární zacílení nativních AOT aplikací a která poskytuje vzor pro testovací nasazení. V neposlední řadě byla popsána problematika testování, telemetrie a monitorovacích řešení. V praktické části byly přiblíženy nástroje a techniky použité k vývoji, sestavení a nasazení testovacích služeb spolu s monitorovacími nástroj. Poté byly provedeny testy podle předem definované metodiky a scénářů. V analytické části byly výsledné data popsána a vyhodnocena. Výsledkem práce je komplexní analýza použití kompilačních režimů JIT a nativní AOT pro vývoj služeb v .NET. Dále byla vytvořena sada testovacích služeb, které slouží jako ukázka možností platformy. V neposlední řadě pro účely analýzy byl vytvořen testovací stack, jenž umožňuje vytváření a nasazování testovacích služeb. 

Vývojový proces při kompilaci do nativního AOT kódu se ukázal nepřívětivý. Primárně podpora knihoven 3. stran a princip interceptorů a generátorů má za vinu subjektivně neintuitivní proces debugování kódu. Samotný programový výstup vyšel dle očekávání a nativní AOT služby produkují větší výstup než JIT služby. Situace se však obrací při kontejnerizovaném nasazení, kdy závislost JIT služeb na runtime prostředí produkuje daleko větší obrazy služeb. Ve výkonnostním porovnání byly obrazy nativních AOT služeb výrazně efektivnější ve využití systémových zdrojů. Výsledky testování ukázaly, že na platformě .NET nativní AOT aplikace mají obecně srovnatelný výkon jako aplikace v režimu JIT. Rozdíl je znatelný v situacích, kdy je nutno využít velké množství instancí stejné služby (plyne z velikosti obrazu) a v situacích, kdy je pro systém rozhodující rychlost zpracování služby včetně spuštění (Serverless nasazení). Výsledky výkonnostního testování byly zaznamenány a zpracovány do tabulek a grafů a jsou součástí práce. Zároveň byly zpracovány interaktivní dashboardy v rámci aplikace Grafana, jenž umožňují podrobný náhled na fungování systému v reálném čase.

Služby kompilované do nativního AOT kódu přináší specifické výkonnostní výhody za cenu kompatibility. Vývoj kódu je s ohledem na zažité postupy a praktiky v .NET nestandartní. Využitím interceptorů a generátorů je odebrána část inciativy z rukou vývojáře a vytváří se na pozadí kompilace v .NET další úroveň abstrakce. Podpora knihoven a frameworků třetích stran je omezena a nelze se spolehnout na jejich plnou funkčnost. Tím připadá na vývojáře zodpovědnost za implementaci vlastních řešení, která by jinak byla dostupná. Při většině vzorů nasazení nejsou čistě výkonostní výhody dostatečným důvodem pro přechod na nativní AOT kompilaci a obětování funkcí runtime prostředí spolu s širokou podporou knihoven.

Mnoho výhod, jenž z platformy .NET plynou souvisí s možnostmi runtime prostředí. Nativní AOT kompilace má smysl ve specifických případech, jenž plynou z nutnosti rychlosti spuštění a velikosti výstupu aplikace (s přihlednutím k velikosti .NET runtime). Případy konkurenční výhody pro AOT kompilaci staví na předpokladu že existuje zájem či potřeba mít zdrojové kódy v .NET, respektive jazyce C\#. Při rozmanitém technologickém přístupu, kdy je vývojář, respektive zapojený tým schopen přijmout jiný jazyk a framework, jsou výhody AOT kompilace ztraceny, zatímco nedostatky jsou zvýrazněny. Tento předpoklad je relativně v rozporu s požadavky na poskytování cloudových služeb, kdy je očekáváno silné technické a vědomostní zázemí a flexibilní přístup k technologiím. Dále tento předpoklad jde proti jedné z výhod microservice architektury a to možnosti kombinovat různé technologie a nástroje. Z širšího pohledu na platformu .NET a strategie Microfostu, nativní AOT zaplňuje specifickou díru v portfoliu technologií. Je totiž klíčová k poskytnutí kompletní sady nástrojů pro tvorbu kompletního řešení cloudové platformy pouze s použitím .NET platformy. Vývojáři, kteří se rozhodnou pro AOT kompilaci, by měli být obeznámeni s těmito specifiky a měli by být schopni je zohlednit v návrhu a implementaci řešení.

V návaznosti na testovací stack, který v práci vznikl za účelem výkonnostního testování služeb, se nabízí doplnit implementaci dalších služeb, případně rozšířit stávající. Podle vzoru současného řešení lze dodat další funkcionalitu, nastavit další zdroje telemetrie, případně rozšířit možnosti vizualizace dat. Z pohledu uživatelské přívětivosti se nabízí tvorba aplikace s grafickým rozhraním využívající princip Docker outside of Docker (DooD). Tímto by bylo možné zjednodušit spouštění konkrétních testovacích scénářů. V rámci webové aplikace by bylo možné nastavit parametry testování, spustit konkrétní test a prokliknout se odkazem na relevantní dashboard v Grafaně. S ohledem na citlivé data a přístupy, které aplikace zprostředkovává, se nabízí rozšíření o autentizaci a autorizaci v případě vystavení stacku v síti. Jelikož grafické rozhraní aplikace je založeno na aplikaci Grafana, jež je schopna připojit se k externím zprostředkovatelům autentizace, bylo by vhodné zapojit službu jako Keycloak pro sjednocení autentifikace napříč stackem.
