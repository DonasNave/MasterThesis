
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                  MONITORING                                   %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\n{1}{Monitorování aplikace}

Monitorování aplikace je proces získávání zpětné vazby. Je klíčovým aspektem vývoje a provozu software. Umožňuje sledovat stav, výkon a celkové chování aplikace. Zahrnuje shromažďování, analýzu a interpretaci různých typů dat a informací, které zajišťují hladký a efektivní chod aplikací. Umožňuje rychle identifikovat a řešit problémy vzniklé za provozu. \cite{Riedesel2021}

\n{2}{Cíle monitorování}

Cílem monitorování v kontextu mikroslužeb je poskytnout informace v klíčových oblastech aplikace. Základní informací je dostupnost aplikace, případně jednotlivých mikroslužeb. Ta zajišťuje, že lze rychle identifikovat vznik problému a minimalizovat dobu nedostupnosti systému. Výkonnostní metriky, jako je latence, propustnost a chybovost, pomáhají pochopit, jak aplikace funguje za normálních podmínek a při zátěži. \cite{Riedesel2021} Rovněž poskytují zpětnou vazbu o dopadu různých strategií nasazení a sestavení na výkon. To zahrnuje údaje o míře úspěšnosti nasazení, problémy vyplývající z nových nasazení a chování nových funkcí v produkčním prostředí.

\n{2}{Druhy dat}

Monitorovací data hrají zásadní roli při údržbě a optimalizaci moderních softwarových systémů. Sběrem, analýzou a interpretací různých typů dat lze získat cenné informace o výkonu, stavu a celkovém chování aplikací. Následující část kategorizuje tři základní typy monitorovacích dat: logy, traces a metriky. \cite{Majors2022}

\n{3}{Logy}

Logy jsou chronologické záznamy o událostech, ke kterým dochází v rámci aplikace. Pomáhají určit hlavní příčiny konkrétních problémů nebo odhalit vzory svědčící o větších problémech. Generuje je jak operační systém tak i aplikace na něm běžící. Logy mohou nabývat různých struktur, nejjednodušší způsob je obyčejný textový řetězec, ale některé nástroje podporují strukturované logy, což jsou datové záznamy nabývající podoby typicky JSON nebo XML formátu. Je běžné, že konkrétní záznam logu poskytuje pouze část informace o systémové události. A tedy, že celá událost sestává z více záznamů. \cite{Majors2022} Logy typicky obsahují data o systémových aktivitách, chybách, zprávách, změnách konfigurace a síťových požadavcích. Analýzou logů mohou vývojáři a správci systému porozumět kontextu aplikace a zajistit soulad s očekávaným chováním. \cite{Majors2022}

\n{3}{Traces}

Traces trasují cestu požadavku, při průchodu různými součástmi distribuovaného systému. Každá trace se skládá z jednoho nebo více segmentů, které zaznamenávají cestu a latenci požadavku napříč různými službami a zdroji. Sledování je zvláště důležité v architekturách mikroslužeb, kde jedna transakce může zahrnovat více, volně propojených služeb. Poskytuje přehled o výkonu a chování jednotlivých služeb a systému jako celku a pomáhá identifikovat jeho úzká místa na problémy s latencí. Traces pomáhají pochopit vztahy a závislosti mezi službami, což umožňuje efektivnější ladění a optimalizaci. \cite{Molkova2023}

\n{3}{Metriky}

Metrika představuje konkrétní číslo volitelně doplněné o značky (tagy) sloužící k identifikaci a seskupování. \cite{Majors2022} Jedná se o kvantitativní údaje, které obvykle reprezentují informace o výkonu a stavu aplikace. Typickou jsou shromažďovány v pravidelných intervalech v reálném čase. Typické data pro metriky jsou například doba odezvy, využití systémových prostředků (procesor, paměť, I/O, ...), chybovost a propustnost. Sledování těchto metrik pomáhá při ladění výkonu a plánování kapacity.

\n{2}{Monitorovací nástroje}

Monitorovací data vyžadují nástroje, které umožňují jejich shromažďování, analýzu a vizualizaci dat. Obvykle se skládají z několika komponent, včetně kolektorů, databází, vizualizačních nástrojů a nástrojů pro analýzu dat. Různé nástroje mohou poskytovat komplexní řešení nebo pouze část funkcionality vyžadované za účelem monitorování systému. \cite{Riedesel2021}

\n{2}{Sběr dat}

Efektivita monitorování aplikací do značné míry závisí na schopnosti shromažďovat relevantní data z různých zdrojů a schopnosti zprostředkování těchto dat do monitorovacích nástrojů. Kolektory jsou nástroje nebo agenti, kteří shromažďují data z různých zdrojů v rámci aplikace a jejího prostředí. \cite{Blanco2023} Mohou být nasazeny jako součást infrastruktury aplikace nebo mohou být provozovány jako externí služby. Kolektory jsou zodpovědné za shromažďování logů, traces a metrik. Dále za předávání těchto dat do monitorovacích řešení, kde je lze analyzovat a vizualizovat. Efektivní sběr dat je nezbytný pro monitorování v reálném čase a pro zajištění toho, aby shromážděná data přesně odrážela stav a výkon aplikace. Příklad velmi populárního univerzálního kolektoru je OpenTelemetry. Tento nástroj definuje prostor a standardy pro sběr a propagacy monitorovacích dat. \cite{Blanco2023}

\n{2}{Analýza a interpretace}

V oblasti monitorování systému je sběr dat pouze prvním krokem. Skutečná hodnota spočívá v tom, jak jsou tato data analyzována a interpretována. Analýza a interpretace transformují nezpracovaná data na praktické poznatky, které umožňují porozumět nejen tomu, co se děje v aplikačních systémech, ale také tomu, proč k těmto událostem dochází. \cite{Majors2022} Tyto procesy jsou úzce propojeny. Vizualizace zpřístupňuje komplexní data a pomáhá uživatelům monitorovacích nástrojů rozpoznat trendy a anomálie na první pohled. Pokročilé analytické techniky poskytují hlubší porozumění dat, odhalují základní vzorce a předpovídají budoucí trendy, kterými podporují strategické rozhodování. Společně umožňují reagovat na aktuální stavy systému a proaktivně spravovat a optimalizovat budoucí výkon a robustnost. 

Vizualizace dat je klíčovým aspektem monitorování aplikací, který umožňuje rychle porozumět stavu a chování aplikací. Grafickým znázorněním komplexních datových toků lze snadněji odhalit trendy a vzorce, které nemusí být patrné ze samotných nezpracovaných dat. Vizualizace mohou mít různé formáty:

\begin{itemize}
    \item \textbf{Grafy} - Spojnicové grafy, sloupcové grafy a bodové grafy, které mohou zobrazovat změny v čase, distribuce a korelace.
    \item \textbf{Tabulky} - Prezentují nezpracovaná data zarovnaná do sloupců pro přímé srovnání.
    \item \textbf{Řídicí panely} - Integrují více vizualizací do jediného rozhraní a nabízejí detailní pohled na výkon a stav systému.
    \item \textbf{Heatmapy} - Ilustrují složité vztahy a toky mezi komponentami systému.
\end{itemize}

Použitím a kombinací vizualizačních komponent vzniká unikátní pohled na dostupná telemetrická data. Tím je umožněno rychle identifikovat klíčová a kritická místa systému, jako jsou bottlenecks (úzká místa výkonu) a řešit potenciální problémy dříve, než ovlivní stabilitu systému nebo uživatelský dojem z aplikace. \cite{Chapman2023}

Konečným cílem analýzy a vizualizace dat je podpora informovaného rozhodování. Interpretovaná data poskytují užitečné poznatky, na základě kterých lze provádět strategická rozhodnutí a optimalizovat výkon a stabilitu systému:

\begin{itemize}
    \item \textbf{Přidělování zdrojů} - Úprava přidělování zdrojů na základě údajů o výkonu za účelem optimalizace zdrojů a výkonu, jako je škálování zdrojů nahoru nebo dolů v reakci na očekávanou poptávku.
    \item \textbf{Optimalizace výkonu} - Identifikace a řešení překážek výkonu s cílem zlepšit odezvu aplikací a spokojenost uživatelů.
    \item \textbf{Zabezpečení} - Rozpoznání vzorců indikujících bezpečnostní hrozby za účelem posílení obrany a zmírnění zranitelnosti.
    \item \textbf{Vylepšení služeb} - Používání dat o interakci uživatelů k zlepšení funkčnosti a rozhraní aplikací.
\end{itemize}

\n{2}{Implementace monitorování}

Implementace monitorování aplikací zahrnuje několik kroků, včetně definice klíčových metrik, výběru monitorovacích nástrojů, nasazení kolektorů a vizualizaci dat. Zároveň by měly také být vytvořeny procesy a postupy pro využití dat či řešení problémů, které byly identifikovány prostřednictvím monitorování. \cite{Blanco2023} Obecně implementace monitorování zahrnuje následující kroky:

\begin{enumerate}
    \item \textbf{Sběr dat v monitorovaných službách} - Implementace sběru dat zahrnuje inkorporaci funkcionality monitorování a zprostředkování dat v rámci předdefinovaného rozhraní. Sběr je realizován zpravidla sérií čítačů a zapisovačů, které jsou využívány k získávání dat z různých zdrojů. Takto sbíraná data jsou kategorizována a označena pro identifikaci. Realizace monitorování je zajištěna buďto použitím existujících implementací v rámci SW knihoven nebo vytvořením vlastní implementace dle potřeb aplikace a monitorovacích protokolů.
    \item \textbf{Nasazení služeb pro správu a sběr dat} - Je zajištěno pomocí nasazení nástrojů, které jsou schopny zprostředkovat sběr a distribuci telemetrických dat z různých zdrojů. Zároveň mohou i zajišťovat jejich zpracování a zobrazení. Klíčový je výběr nástrojů s ohledem na zprostředkování adekvátního rozhraní pro sběr a distribuci dat k následné vizualizaci. Splněním je dosaženo, že data jsou zpracována, uložena a dále zprostředkována v reálném čase.
    \item \textbf{Vizualizace dat} - Vizualizace dat je implementována nasazením nástrojů, které jsou schopny zobrazit data z dostupných zdrojů v uživatelsky přívětivé podobě. Formát připojení na datové zdroje s monitorovacími daty je definován protokoly relevantním služeb. Vizualiace konkrétních dat je předmětem vytvoření vizualizačních prvků. Data jsou zobrazena v reálném čase, jsou přehledná a srozumitelná.
\end{enumerate}

Konfigurace monitorování v rámci aplikace obecně zahrnuje zmapování interakcí mezi monitorovanými komponentami a monitorovacími nástroji. To zahrnuje určení, které metriky, logy a traces jsou relevantní na základě architektury aplikace a doménových požadavků. Konfigurace musí zajistit, že shromážděná data budou relevatní a vyvarovat se nadměrné granularitě, která může vést k přetížení systému. \cite{Blanco2023} Obvykle tento proces zahrnuje nastavení agentů či integrací v rámci aplikace nebo služeb, které efektivně sbírají telemetrická data a přenáší je do centralizovaného monitorovacího systému, aniž by došlo k narušení výkonu aplikace. Komunikace mezi aplikačními komponentami a monitorovacími nástroji často využívá stávající síťové protokoly a metody bezpečného přenosu dat. Proces konfigurace může dále zahrnovat nastavení hraničních hodnot pro výstrahy, definování pravidel retence dat a nastavení parametrů pro automatické reakce na určité typy událostí. Tyto prvky pomáhají udržovat celkový stav a výkon aplikace. \cite{Blanco2023} Tento přístup zajišťuje, že monitorovací systém poskytuje užitečné informace v souladu s doménovými požadavky a poskytuje komplexní bázi telemetrických dat pro analýzu a optimalizaci systému. 